!function(e){function t(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return e[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="/js/",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var s=i(2),o=a(s),r=i(3),n=a(r),u=i(4),h=a(u),d=i(5),l=a(d),p=i(6),c=a(p);o["default"].Device.whenReady(function(){var e=o["default"].Device.desktop,t=new o["default"].Game(e?960:320,505,o["default"].AUTO,"game");t.state.add("boot",new n["default"]),t.state.add("preload",new h["default"]),t.state.add("menu",new l["default"]),t.state.add("play",new c["default"]),t.state.start("boot")})},function(e,t){e.exports=Phaser},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=i(2),h=a(u),d=function(e){function t(){return s(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),n(t,[{key:"preload",value:function(){this.game.device.desktop||(this.scale.scaleMode=h["default"].ScaleManager.EXACT_FIT,this.scale.forcePortrait=!0,this.scale.refresh()),this.game.load.image("loading","assets/preloader.gif")}},{key:"create",value:function(){this.game.state.start("preload")}}]),t}(h["default"].State);t["default"]=d},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=i(2),h=a(u),d=function(e){function t(){return s(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),n(t,[{key:"preload",value:function(){var e=this.game.add.sprite(this.game.width/2,this.game.height/2,"loading");e.anchor.set(.5),this.game.load.setPreloadSprite(e),this.game.load.image("background","assets/background.png"),this.game.load.image("ground","assets/ground.png"),this.game.load.image("title","assets/title.png"),this.game.load.spritesheet("bird","assets/bird.png",34,24,3),this.game.load.image("btn","assets/start-button.png"),this.game.load.spritesheet("pipe","assets/pipes.png",54,320,2),this.game.load.bitmapFont("flappy_font","assets/fonts/flappyfont/flappyfont.png","assets/fonts/flappyfont/flappyfont.fnt"),this.game.load.audio("fly_sound","assets/flap.wav"),this.game.load.audio("score_sound","assets/score.wav"),this.game.load.audio("hit_pipe_sound","assets/pipe-hit.wav"),this.game.load.audio("hit_ground_sound","assets/ouch.wav"),this.game.load.image("ready_text","assets/get-ready.png"),this.game.load.image("play_tip","assets/instructions.png"),this.game.load.image("game_over","assets/gameover.png"),this.game.load.image("score_board","assets/scoreboard.png")}},{key:"create",value:function(){this.game.state.start("menu")}}]),t}(h["default"].State);t["default"]=d},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=i(2),h=a(u),d=function(e){function t(){return s(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),n(t,[{key:"create",value:function(){this.game.add.tileSprite(0,0,this.game.width,this.game.height,"background").autoScroll(-10,0),this.game.add.tileSprite(0,this.game.height-112,this.game.width,112,"ground").autoScroll(-100,0);var e=this.game.add.group();e.create(0,0,"title");var t=e.create(190,10,"bird");t.animations.add("fly"),t.animations.play("fly",12,!0),e.x=this.game.width/2-e.width/2,e.y=100,this.game.add.tween(e).to({y:120},1e3,null,!0,0,Number.MAX_VALUE,!0);var i=this.game.add.button(this.game.width/2,this.game.height/2,"btn",function(){this.game.state.start("play")});i.anchor.setTo(.5,.5)}}]),t}(h["default"].State);t["default"]=d},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=i(2),h=a(u),d=function(e){function t(){return s(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),n(t,[{key:"create",value:function(){this.bg=this.game.add.tileSprite(0,0,this.game.width,this.game.height,"background"),this.pipeGroup=this.game.add.group(),this.pipeGroup.enableBody=!0,this.ground=this.game.add.tileSprite(0,this.game.height-112,this.game.width,112,"ground"),this.bird=this.game.add.sprite(50,150,"bird"),this.bird.animations.add("fly"),this.bird.animations.play("fly",12,!0),this.bird.anchor.setTo(.5,.5),this.game.physics.enable(this.bird,h["default"].Physics.ARCADE),this.bird.body.gravity.y=0,this.game.physics.enable(this.ground,h["default"].Physics.ARCADE),this.ground.body.immovable=!0,this.soundFly=this.game.add.sound("fly_sound"),this.soundScore=this.game.add.sound("score_sound"),this.soundHitPipe=this.game.add.sound("hit_pipe_sound"),this.soundHitGround=this.game.add.sound("hit_ground_sound"),this.scoreText=this.game.add.bitmapText(this.game.world.centerX-20,30,"flappy_font","0",36),this.readyText=this.game.add.image(this.game.width/2,40,"ready_text"),this.playTip=this.game.add.image(this.game.width/2,300,"play_tip"),this.readyText.anchor.setTo(.5,0),this.playTip.anchor.setTo(.5,0),this.hasStarted=!1,this.game.time.events.loop(900,this.generatePipes,this),this.game.time.events.stop(!1),this.game.input.onDown.addOnce(this.startGame,this)}},{key:"update",value:function(){this.hasStarted&&(this.game.physics.arcade.collide(this.bird,this.ground,this.hitGround,null,this),this.game.physics.arcade.overlap(this.bird,this.pipeGroup,this.hitPipe,null,this),this.bird.inWorld||this.hitCeil(),this.bird.angle<90&&(this.bird.angle+=2.5),this.pipeGroup.forEachExists(this.checkScore,this))}},{key:"startGame",value:function(){this.gameSpeed=200,this.gameIsOver=!1,this.hasHitGround=!1,this.hasStarted=!0,this.score=0,this.bg.autoScroll(-(this.gameSpeed/10),0),this.ground.autoScroll(-this.gameSpeed,0),this.bird.body.gravity.y=1150,this.readyText.destroy(),this.playTip.destroy(),this.game.input.onDown.add(this.fly,this),this.game.time.events.start()}},{key:"stopGame",value:function(){this.bg.stopScroll(),this.ground.stopScroll(),this.pipeGroup.forEachExists(function(e){e.body.velocity.x=0},this),this.bird.animations.stop("fly",0),this.game.input.onDown.remove(this.fly,this),this.game.time.events.stop(!0)}},{key:"fly",value:function(){this.bird.body.velocity.y=-350,this.game.add.tween(this.bird).to({angle:-30},100,null,!0,0,0,!1),this.soundFly.play()}},{key:"hitCeil",value:function(){this.soundHitPipe.play(),this.gameOver()}},{key:"hitPipe",value:function(){this.gameIsOver||(this.soundHitPipe.play(),this.gameOver())}},{key:"hitGround",value:function(){this.hasHitGround||(this.hasHitGround=!0,this.soundHitGround.play(),this.gameOver(!0))}},{key:"gameOver",value:function(e){this.gameIsOver=!0,this.stopGame(),e&&this.showGameOverText()}},{key:"showGameOverText",value:function(){var e=this;this.scoreText.destroy(),this.game.bestScore=this.game.bestScore||0,this.score>this.game.bestScore&&(this.game.bestScore=this.score),this.gameOverGroup=this.game.add.group();var t=this.gameOverGroup.create(this.game.width/2,0,"game_over"),i=this.gameOverGroup.create(this.game.width/2,70,"score_board"),a=(this.game.add.bitmapText(this.game.width/2+60,105,"flappy_font",this.score+"",20,this.gameOverGroup),this.game.add.bitmapText(this.game.width/2+60,153,"flappy_font",this.game.bestScore+"",20,this.gameOverGroup),this.game.add.button(this.game.width/2,210,"btn",function(){e.game.state.start("play")},this,null,null,null,null,this.gameOverGroup));t.anchor.setTo(.5,0),i.anchor.setTo(.5,0),a.anchor.setTo(.5,0),this.gameOverGroup.y=30}},{key:"generatePipes",value:function(){var e=arguments.length<=0||void 0===arguments[0]?100:arguments[0],t=185-e+Math.floor((363-e-505+320+e)*Math.random()),i=t-360,a=t+e;if(!this.resetPipe(i,a)){this.game.add.sprite(this.game.width,i,"pipe",0,this.pipeGroup),this.game.add.sprite(this.game.width,a,"pipe",1,this.pipeGroup);this.pipeGroup.setAll("checkWorldBounds",!0),this.pipeGroup.setAll("outOfBoundsKill",!0),this.pipeGroup.setAll("body.velocity.x",-this.gameSpeed)}}},{key:"resetPipe",value:function(e,t){var i=0;return this.pipeGroup.forEachDead(function(a){a.y<=0?(a.reset(this.game.width,e),a.hasScored=!1):a.reset(this.game.width,t),a.body.velocity.x=-this.gameSpeed,i++},this),2==i}},{key:"checkScore",value:function(e){return!e.hasScored&&e.y<=0&&e.x<=this.bird.x-17-54?(e.hasScored=!0,this.scoreText.text=++this.score,this.soundScore.play(),!0):!1}},{key:"render",value:function(){this.game.debug.spriteInfo(this.bird,32,32)}}]),t}(h["default"].State);t["default"]=d}]);